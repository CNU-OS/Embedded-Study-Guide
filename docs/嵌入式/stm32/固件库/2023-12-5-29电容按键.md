# 电容按键

电容:容纳电荷的电容, 两个金属块之间有一层绝缘体就可以构成一个简单的电容

优势: 没有机械装置, 寿命比较长, 非接触感应, 面板不需要开孔, 简介美观, 防水性比较好

电容储能就是充放电

![image-20231205192011322](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312051920521.png)

没有手指触摸的时候: 上电的时候, 电阻作用下, 电容进行充电, 直到电容充满电, 这时候有一个充电时间Tcs

当手指按下的时候, 电容会变大, 充电时间变长

实验的重点就是充电时间的变化, 也就是电平变化的时间, 可以使用时钟进行计算

![image-20231205192459364](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312051924560.png)

![image-20231205192619613](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312051926691.png)

![image-20231205192630270](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312051926343.png)

时间和电容C之间的关系成正比, 电容越大, 充电的临界时间更长

![image-20231205192908850](https://picture-01-1316374204.cos.ap-beijing.myqcloud.com/image/202312051929025.png)

> 开机的时候测得的TCS值作为基准值

## 检测

使用定时器的输入捕获功能

首先把TPAD引脚设置为低电平, 电容进行放电

之后吧TPAD设置为浮空输入, 电容开始充电

同时开启TPAD的输入捕获功能, 开始捕获高电平



















